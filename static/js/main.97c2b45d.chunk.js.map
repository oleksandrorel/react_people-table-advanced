{"version":3,"sources":["components/Home.tsx","components/PersonName.tsx","components/PersonRow.tsx","components/TableHeader.tsx","components/PeopleTable.tsx","components/PeoplePage.tsx","api/people.tsx","components/MainNavigation.tsx","components/NotFoundPage.tsx","App.tsx","index.tsx"],"names":["HomePage","className","PersonName","person","search","useLocation","to","slug","classNames","row__female","sex","name","PersonRow","people","params","useRouteMatch","location","sortBy","URLSearchParams","get","findParent","find","personEl","born","died","motherName","fatherName","row__selected","personId","sorted__cell","TableHeader","header","history","useHistory","searchParams","sortOrder","onClick","set","toLowerCase","push","toString","src","alt","tableHeaders","PeopleTable","map","key","PeoplePage","useState","setPeople","appliedQuery","query","setQuery","useEffect","fetch","then","response","json","applyQuery","useCallback","debounce","newQuery","delete","console","log","value","onChange","e","target","visiblePeople","filter","includes","sort","a","b","localeCompare","getVisiblePeople","MainNavigation","exact","activeClassName","NotFoundPage","App","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.97c2b45d.chunk.js","sourcesContent":["import React from 'react';\n\nexport const HomePage = () => (\n  <div>\n    <h2 className=\"pageTitle\">Home page</h2>\n  </div>\n);\n","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { personDetails } from './types';\n\nexport const PersonName: React.FC<personDetails> = ({ person }) => {\n  const { search } = useLocation();\n\n  if (!person) {\n    return <></>;\n  }\n\n  return (\n    <Link\n      to={`/people/${person.slug}${search}`}\n      className={classNames('row__male', { row__female: person.sex === 'f' })}\n    >\n      {person.name}\n    </Link>\n  );\n};\n","import React from 'react';\nimport { useRouteMatch, useLocation } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { PersonName } from './PersonName';\nimport {\n  personDetails,\n  Person,\n  People,\n  Params,\n} from './types';\n\nexport const PersonRow: React.FC<personDetails & People> = ({ person, people }) => {\n  const { params }: Params = useRouteMatch() || '';\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const sortBy = searchParams.get('sortBy') || '';\n  const findParent = (name: string) => {\n    const parent = people.find((personEl: Person) => personEl.name === name);\n\n    return parent;\n  };\n\n  if (!person) {\n    return <></>;\n  }\n\n  // eslint-disable-next-line object-curly-newline\n  const { sex, born, died, motherName, fatherName } = person;\n\n  return (\n    <tr\n      className={classNames(\n        'row__Person', { row__selected: person.slug === params.personId },\n      )}\n    >\n\n      <td\n        className={classNames(\n          'row__Person', 'row__cell', { sorted__cell: sortBy === 'name' },\n        )}\n      >\n        <PersonName person={person} />\n      </td>\n\n      <td className={classNames(\n        'row__Person', 'row__cell', { sorted__cell: sortBy === 'sex' },\n      )}\n      >\n        {sex}\n      </td>\n      <td className={classNames(\n        'row__Person', 'row__cell', { sorted__cell: sortBy === 'born' },\n      )}\n      >\n        {born}\n      </td>\n      <td className={classNames(\n        'row__Person', 'row__cell', { sorted__cell: sortBy === 'died' },\n      )}\n      >\n        {died}\n      </td>\n      <td className=\"row__Person row__cell\">\n        {findParent(motherName)\n          ? (\n            <PersonName person={findParent(motherName)} />\n          )\n          : (\n            motherName\n          )}\n      </td>\n      <td className=\"row__Person row__cell\">\n        {findParent(fatherName)\n          ? (\n            <PersonName person={findParent(fatherName)} />\n          )\n          : (\n            fatherName\n          )}\n      </td>\n    </tr>\n  );\n};\n","/* eslint-disable no-nested-ternary */\nimport React from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { Header } from './types';\n\nexport const TableHeader: React.FC<Header > = ({ header }) => {\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const sortBy = searchParams.get('sortBy') || '';\n  const sortOrder = searchParams.get('sortOrder') || '';\n\n  const clickHandler = () => {\n    if (sortOrder === 'ASC') {\n      searchParams.set('sortOrder', 'DESC');\n    } else {\n      searchParams.set('sortOrder', 'ASC');\n    }\n\n    searchParams.set('sortBy', header.toLowerCase());\n    history.push(`?${searchParams.toString()}`);\n  };\n\n  return (\n    <th\n      className=\"peopleTable__rowsHeader peopleTable__cell\"\n      onClick={clickHandler}\n    >\n      {header}\n      {sortBy !== header.toLowerCase()\n        ? (\n          <span><img src=\"https://oleksandrorel.github.io/react_people-table-advanced/images/sort_both.png\" alt=\"not sorted\" /></span>\n        )\n        : (\n          sortOrder === 'ASC'\n            ? <span><img src=\"/images/sort_desc.png\" alt=\"sorted DESC\" /></span>\n            : <span><img src=\"/images/sort_asc.png\" alt=\"sorted ASC\" /></span>\n        )}\n    </th>\n  );\n};\n","import React from 'react';\nimport { PersonRow } from './PersonRow';\nimport { TableHeader } from './TableHeader';\n\nimport { People } from './types';\n\nconst tableHeaders = ['Name', 'Sex', 'Born', 'Died'];\n\nexport const PeopleTable: React.FC<People> = ({ people }) => (\n  <div className=\"peopleTable\">\n\n    <table className=\"peopleTable__Body\">\n      <thead>\n        <tr className=\"peopleTable__rowsHeader\">\n          {tableHeaders.map(header => (\n            <TableHeader key={header} header={header} />\n          ))}\n          <th\n            className=\"peopleTable__rowsHeader peopleTable__cell\"\n          >\n            Mother\n          </th>\n          <th\n            className=\"peopleTable__rowsHeader peopleTable__cell\"\n          >\n            Father\n          </th>\n        </tr>\n      </thead>\n\n      <tbody>\n        {people.map(person => (\n          <PersonRow person={person} key={person.slug} people={people} />\n        ))}\n      </tbody>\n\n    </table>\n  </div>\n);\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport debounce from 'lodash/debounce';\nimport { getPeople } from '../api/people';\nimport { PeopleTable } from './PeopleTable';\nimport { Person } from './types';\n\nexport const PeoplePage = () => {\n  const [people, setPeople] = useState<Person[]>([]);\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const appliedQuery = searchParams.get('query') || '';\n  const [query, setQuery] = useState<string>(appliedQuery);\n  const history = useHistory();\n  const sortBy = searchParams.get('sortBy') || '';\n  const sortOrder = searchParams.get('sortOrder') || '';\n\n  useEffect(() => {\n    getPeople()\n      .then(setPeople);\n  }, []);\n\n  const applyQuery = useCallback(\n    debounce((newQuery) => {\n      if (newQuery) {\n        searchParams.set('query', newQuery);\n      } else {\n        searchParams.delete('query');\n      }\n\n      history.push(\n        {\n          search: searchParams.toString(),\n        },\n      );\n    }, 500),\n    [],\n  );\n\n  const getVisiblePeople = () => {\n    const visiblePeople = appliedQuery\n      ? people.filter(person => (\n        (person.name + person.motherName + person.fatherName)\n          .toLowerCase().includes(appliedQuery)))\n      : people;\n\n    if (sortBy) {\n      switch (sortBy) {\n        case 'name':\n        case 'sex':\n          return visiblePeople.sort((a, b) => (\n            sortOrder === 'ASC'\n              ? a[sortBy].localeCompare(b[sortBy])\n              : b[sortBy].localeCompare(a[sortBy])\n          ));\n        case 'born':\n        case 'died':\n          return visiblePeople.sort((a, b) => (\n            sortOrder === 'ASC'\n              ? a[sortBy] - b[sortBy]\n              : b[sortBy] - a[sortBy]\n          ));\n\n        default:\n          break;\n      }\n    }\n\n    return visiblePeople;\n  };\n\n  console.log('8');\n\n  return (\n    <div>\n      <h2 className=\"pageTitle\">People page</h2>\n      <div className=\"people__filter\">\n        <div>\n          <p className=\"peopleTable__Header\">People table</p>\n          <span className=\"formtext_left\"> Find person by name: </span>\n          <input\n            value={query}\n            onChange={(e) => {\n              setQuery(e.target.value);\n              applyQuery(e.target.value);\n            }}\n          />\n        </div>\n      </div>\n      <PeopleTable people={getVisiblePeople()} />\n    </div>\n  );\n};\n","const url = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nexport const getPeople = () => (\n  fetch(url)\n    .then(response => response.json())\n);\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport 'bulma';\nimport '../App.scss';\n\nexport const MainNavigation = () => (\n  <nav className=\"navbar\">\n    <NavLink\n      to=\"/\"\n      exact\n      className=\"navbar-item is-tab\"\n      activeClassName=\"is-active\"\n    >\n      Home page\n    </NavLink>\n\n    <NavLink\n      to=\"/people\"\n      className=\"navbar-item is-tab\"\n      activeClassName=\"is-active\"\n    >\n      People page\n    </NavLink>\n  </nav>\n);\n","import React from 'react';\n\nexport const NotFoundPage = () => (\n  <div className=\"notFoundPage\">\n    <h2 className=\"pageTitle\">Not found page</h2>\n  </div>\n);\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { HomePage } from './components/Home';\nimport { PeoplePage } from './components/PeoplePage';\n\nimport './App.scss';\nimport { MainNavigation } from './components/MainNavigation';\nimport { NotFoundPage } from './components/NotFoundPage';\n\nconst App = () => (\n  <div className=\"App\">\n    <MainNavigation />\n\n    <h1 className=\"app__Header\">React people table</h1>\n    <Switch>\n      <Route path=\"/\" exact component={HomePage} />\n      <Route path=\"/people/:personId?\" component={PeoplePage} />\n\n      <Redirect path=\"/home\" to=\"/\" />\n      <Route component={NotFoundPage} />\n    </Switch>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}